# ğŸŒ WEB INTEGRATION - VISUAL GUIDE

## System Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SmartHiker System Flow                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PHASE 1: Data Collection
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ESP32 Node  â”‚
  â”‚   (Bella)    â”‚
  â”‚              â”‚
  â”‚ â€¢ GPS        â”‚
  â”‚ â€¢ MPU6050    â”‚
  â”‚ â€¢ BMP280     â”‚
  â”‚ â€¢ DHT22      â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ LoRa Packet: "bella,-7.50,110.50"
         â”‚ 433 MHz
         â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ESP32 Node (Budi)   â”‚
  â”‚  [Similar Setup]     â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ LoRa Packet
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                     â”‚
         â†“                                     â†“
  
PHASE 2: LoRa Gateway
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    ESP8266 LoRa Gateway             â”‚
  â”‚                                     â”‚
  â”‚  â€¢ Listens on 433 MHz LoRa          â”‚
  â”‚  â€¢ Receives from multiple nodes     â”‚
  â”‚  â€¢ Parses: hikerName, lat, lon      â”‚
  â”‚  â€¢ Connected to WiFi network        â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP POST JSON
               â”‚ {hikerName, latitude, longitude, altitude, ...}
               â”‚
               â†“
               
PHASE 3: Backend Server (Your Laptop)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚      Node.js Backend Server             â”‚
  â”‚      (npm start)                        â”‚
  â”‚      Port: 3000                         â”‚
  â”‚                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚      REST API                     â”‚  â”‚
  â”‚  â”‚                                   â”‚  â”‚
  â”‚  â”‚  POST /api/hiker-data             â”‚  â”‚
  â”‚  â”‚  GET  /api/all-hikers             â”‚  â”‚
  â”‚  â”‚  GET  /api/hiker/:name            â”‚  â”‚
  â”‚  â”‚  GET  /api/health                 â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚    WebSocket Manager              â”‚  â”‚
  â”‚  â”‚  (Real-time Push)                 â”‚  â”‚
  â”‚  â”‚                                   â”‚  â”‚
  â”‚  â”‚  â€¢ Maintains client connections   â”‚  â”‚
  â”‚  â”‚  â€¢ Broadcasts updates             â”‚  â”‚
  â”‚  â”‚  â€¢ Handles multi-user             â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                         â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚    Data Management                â”‚  â”‚
  â”‚  â”‚                                   â”‚  â”‚
  â”‚  â”‚  â€¢ Store hikers data (memory)     â”‚  â”‚
  â”‚  â”‚  â€¢ Track path history             â”‚  â”‚
  â”‚  â”‚  â€¢ Calculate statistics           â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ WebSocket + REST
               â”‚ Real-time stream
               â”‚
               â†“

PHASE 4: Web Dashboard (Browser)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚    Web Browser (Any Device)          â”‚
  â”‚    http://localhost:3000             â”‚
  â”‚                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚   Leaflet Interactive Map      â”‚  â”‚
  â”‚  â”‚                                â”‚  â”‚
  â”‚  â”‚   ğŸ”´ Bella (-7.50, 110.50)    â”‚  â”‚
  â”‚  â”‚   ğŸ”µ Budi  (-7.51, 110.51)    â”‚  â”‚
  â”‚  â”‚                                â”‚  â”‚
  â”‚  â”‚   [Zoom] [Pan] [Fullscreen]    â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  Statistics Panel              â”‚  â”‚
  â”‚  â”‚                                â”‚  â”‚
  â”‚  â”‚  ğŸ“ Position: -7.50, 110.50    â”‚  â”‚
  â”‚  â”‚  ğŸ“ Distance: 5.2 km           â”‚  â”‚
  â”‚  â”‚  ğŸ“ˆ Elevation: +450 m          â”‚  â”‚
  â”‚  â”‚  ğŸŒ¡ï¸  Temp: 25Â°C                â”‚  â”‚
  â”‚  â”‚  ğŸ’§ Humidity: 60%              â”‚  â”‚
  â”‚  â”‚  â±ï¸  Duration: 2:15:30         â”‚  â”‚
  â”‚  â”‚  ğŸƒ Speed: 2.3 km/h            â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                      â”‚
  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
  â”‚  â”‚  Elevation Chart               â”‚  â”‚
  â”‚  â”‚  (Real-time plot)              â”‚  â”‚
  â”‚  â”‚                                â”‚  â”‚
  â”‚  â”‚      â•±â•²      â•±â•²                â”‚  â”‚
  â”‚  â”‚    â•±    â•²  â•±    â•²              â”‚  â”‚
  â”‚  â”‚  â•±        â•²      â•²             â”‚  â”‚
  â”‚  â”‚            â•²      â•²            â”‚  â”‚
  â”‚  â”‚             â•²      â•²           â”‚  â”‚
  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
  â”‚                                      â”‚
  â”‚  [Hiker â–¼]  ğŸŸ¢ Bella  Updated: now  â”‚
  â”‚  [ğŸ—ºï¸] [ğŸ“Š] [ğŸ¬] [â›¶]                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘           â†‘           â†‘
         â”‚           â”‚           â”‚
    Real-time    Dashboard    Controls
    updates via  stats        (toggle, etc)
    WebSocket    display


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

COMMUNICATION FLOW:

  ESP8266 â”€â”€(LoRa)â”€â”€> Multiple ESP32s â”€â”€(WiFi)â”€â”€> Backend Server
                                                         â”‚
                                                         â”‚
                                                    Store Data
                                                    Broadcast
                                                         â”‚
                                                         â†“
                                                   (WebSocket)
                                                         â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â†“                    â†“                    â†“
                            ğŸ–¥ï¸ Laptop Browser    ğŸ“± Phone Browser    ğŸ“± Tablet Browser
                            localhost:3000      192.168.1.100:3000   192.168.1.100:3000
                                    â†“                    â†“                    â†“
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚        All Browsers See Real-time Updates       â”‚
                            â”‚        (Multi-user Sync via WebSocket)          â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Data Structure

```json
{
  "bella": {
    "name": "Bella",
    "position": {
      "lat": -7.50,
      "lon": 110.50,
      "timestamp": 1705699200000
    },
    "sensors": {
      "altitude": 500,
      "temperature": 25,
      "humidity": 60,
      "acceleration": { "x": 0.1, "y": 0.2, "z": 9.8 }
    },
    "stats": {
      "totalDistance": 5.2,
      "maxAltitude": 650,
      "minAltitude": 450,
      "avgTemperature": 24.5
    },
    "path": [
      { "lat": -7.50, "lon": 110.50, "alt": 500, "timestamp": 1705699200000 },
      { "lat": -7.501, "lon": 110.501, "alt": 505, "timestamp": 1705699205000 },
      { "lat": -7.502, "lon": 110.502, "alt": 510, "timestamp": 1705699210000 },
      ...
    ]
  },
  "budi": {
    "name": "Budi",
    ...similar structure...
  }
}
```

---

## WebSocket Events

```javascript
// Client connects â†’ Server sends:
{
  "type": "init",
  "data": { bella: {...}, budi: {...} },
  "pathHistory": { bella: [...], budi: [...] }
}

// Every time new data arrives from ESP8266:
{
  "type": "update",
  "hikerName": "bella",
  "data": {
    "position": { "lat": -7.50, "lon": 110.50, "timestamp": 1705699200000 },
    "altitude": 500,
    "temperature": 25,
    "humidity": 60,
    ...
  }
}
```

---

## API Call Sequence

```
1. ESP8266 receives LoRa packet from ESP32
   â†“
2. ESP8266 parses: "bella,-7.50,110.50"
   â†“
3. ESP8266 creates JSON payload
   â†“
4. ESP8266 POSTs to: http://192.168.1.100:3000/api/hiker-data
   â†“
5. Backend receives, stores, updates stats
   â†“
6. Backend broadcasts via WebSocket to all connected browsers
   â†“
7. Browsers receive update (via WebSocket)
   â†“
8. JavaScript updates map marker + statistics
   â†“
9. User sees Bella's position change in real-time!
```

---

## Hardware Connections

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Laptop (Backend Server)          â”‚
â”‚                                          â”‚
â”‚  - Running: Node.js server (port 3000)   â”‚
â”‚  - IP: 192.168.1.100 (WiFi connected)   â”‚
â”‚  - Serving: Web Dashboard                â”‚
â”‚  - Broadcasting: WebSocket updates       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ WiFi network
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       â”‚       â”‚         â”‚
        â†“       â†“       â†“         â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚Phone  â”‚ â”‚Tabletâ”‚ â”‚PC    â”‚ â”‚Watch â”‚
    â”‚:3000  â”‚ â”‚:3000 â”‚ â”‚:3000 â”‚ â”‚:3000 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜
        â”‚       â”‚       â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ (All see same real-time data!)
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                 â”‚
        â†“                 â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ESP8266      â”‚  â”‚ WiFi Router          â”‚
    â”‚ Gateway      â”‚  â”‚ 192.168.1.1          â”‚
    â”‚ (receives    â”‚  â”‚ (connects all)       â”‚
    â”‚  LoRa)       â”‚  â”‚                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ LoRa (433 MHz)
           â”‚
       â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â†“          â†“          â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”
    â”‚ESP32 â”‚  â”‚ESP32 â”‚  â”‚ESP32 â”‚
    â”‚Bella â”‚  â”‚ Budi â”‚  â”‚ Rina â”‚
    â”‚+Sensor  â”‚+Sensor  â”‚+Sensor
    â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜
```

---

**Status**: âœ… Complete & Ready to Deploy

Follow WEB_IMPLEMENTATION_SUMMARY.md untuk quick start!
